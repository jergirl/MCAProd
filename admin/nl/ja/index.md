---



copyright:

  years: 2015, 2016



---

{:shortdesc: .shortdesc}
{:codeblock: .codeblock}
{:screen: .screen}
{:new_window: target="_blank"}

# {{site.data.keyword.Bluemix_notm}} Local および {{site.data.keyword.Bluemix_notm}} Dedicated の管理
{: #mng}
*最終更新日: 2016 年 6 月 13 日*
{: .last-updated}

{{site.data.keyword.Bluemix_notm}} Local または {{site.data.keyword.Bluemix_notm}} Dedicated の管理者権限がある場合は、**「管理」**ページに移動して、リソースの管理、割り当て量の使用状況のモニター、ユーザー許可の管理、アップグレード通知のスケジュール設定、セキュリティー・レポートおよびログの表示などを行います。組織の管理は、スペースを作成し、[ユーザーの役割と権限](index.html#oc_useradmin)を設定することによって行うことができます。『[組織の管理](../admin/orgs_spaces.html)』を参照してください。
{:shortdesc}

*表 1. {{site.data.keyword.Bluemix_notm}} Local または Dedicated のインスタンスを管理するための管理用タスク*

| 選択可能な操作 | 詳細 |    
|----------------|---------|
|システム使用状況のモニター | **「管理」&gt;「使用量」**をクリックします。システム情報を表示し、CPU 使用量をモニターし、使用量の計画を立てて、ビジネスにとって最良の決定を行ってください。『[使用量情報の表示](index.html#oc_resource)』を参照してください。|
|カタログの管理 | どのサービスをユーザーおよび組織が表示できるようにするかを管理するには、**「管理」&gt;「カタログ管理」**をクリックします。『[カタログの管理](index.html#oc_catalog)』を参照してください。|
|組織の管理 | 組織を作成し、組織の割り当て量をモニターし、ニーズに沿った決定を素早く行うには、**「管理」&gt;「組織管理」**をクリックします。『[組織の管理](index.html#oc_organizations)』を参照してください。|
|スペースの作成とユーザーの役割の割り当て | 組織内のスペースを作成するには、**「アカウントとサポート」**アイコン ![アカウントとサポート](../support/images/account_support.svg) をクリックして、**「組織の管理」**を選択します。ユーザーを追加し、組織およびスペースの役割をユーザーに割り当てます。『[組織の管理](../admin/orgs_spaces.html)』を参照してください。 |
|管理ユーザーの権限の管理 | ユーザーの追加、ユーザーの削除、およびユーザーの許可の調整を行うには、**「管理」&gt;「ユーザー管理」**をクリックします。『[ユーザーおよび許可の管理](index.html#oc_useradmin)』を参照してください。 |
|レポートおよびログのレビュー | ユーザーのインスタンスのセキュリティー・レポートおよび監査ログを表示するには、**「管理」&gt;「レポートおよびログ」**をクリックします。『[レポートの表示](index.html#oc_report)』を参照してください。 |
|システム情報の表示 | 保留中の更新、インスタンスの名前とバージョン、地域、API URL、CLI URL、LDAP 構成の詳細、グループとユーザーのマッピング、統計、および共有ドメインなどのシステム情報を表示するには、**「管理」&gt;「システム情報」**をクリックします。「保留中の更新」セクションでは、通知を拡張するためにカレンダー・フィードおよびイベント・サブスクリプションにアクセスすることもできます。『[システム情報の表示](index.html#oc_system)』を参照してください。 |
|通知の拡張およびイベント・サブスクリプションのセットアップ | **「管理」&gt;「システム情報」&gt;「*Number* 件の更新が保留中」**をクリックします。Web フックを使用して、選択した Web サービスと統合し、更新またはインシデントに関するイベント通知サブスクリプションをセットアップできます。『[通知およびイベント・サブスクリプション](index.html#oc_eventsubscription)』を参照してください。 |


## 通知およびイベント・サブスクリプション
{: #oc_eventsubscription}

「状況」ページを確認することによって、常にご使用の環境の状況を把握できます。インシデントが発生すると、そのインシデントが「状況」ページで報告されます。また、{{site.data.keyword.Bluemix_notm}} は、スケジュールされた保守更新や保留中の保守更新などのイベントに関する通知を「管理」ページの「通知」エリアに送信します。

### 通知

お客様はローカル環境または専用環境についての通知を表示し、環境の状況をモニターすることができます。次の表で、各種のタイプの通知および各通知タイプが表示される場所に関する情報を確認してください。

*表 2. イベント・タイプと通知方法*

| **イベント・タイプ** | **通知方法** |       
|-----------------|-------------------|
| 保守の更新情報 | 近く予定されている保守の更新に関するアラートは「管理」ページの「通知」領域で受け取ります。**「管理」**ページに移動して、**「通知」**アイコン ![通知](images/icon_announcement.svg) を選択します。保留中および完了した通知の全リストおよび履歴を確認するには、**「管理」&gt;「システム情報」** &gt;「*Number* 件の**保留中 **」をクリックします。E メールを任意の受信者に送信するサブスクリプションをセットアップすることで、通知機能を拡張できます。あるいは、Web フックを使用して、「管理」ページの通知を任意の Web サービスと統合するサブスクリプションをセットアップできます。 |
| 重大なインシデント | 重大なインシデントに関するアラートは「状況」ページで受け取ります。**「アカウントとサポート」**アイコン ![アカウントとサポート](../support/images/account_support.svg) をクリックして、**「状況」**を選択します。E メールを任意の受信者に送信するイベント・サブスクリプションをセットアップすることで、通知機能を拡張できます。あるいは、Web フックを使用して、「管理」ページの通知を任意の Web サービスと統合するサブスクリプションをセットアップできます。  |  
| {{site.data.keyword.Bluemix_notm}} 状況 | いつでも、「状況」ページでプラットフォーム、サービス、および {{site.data.keyword.Bluemix_notm}} インスタンスの最新状況を表示できます。**「アカウントとサポート」**アイコン ![アカウントとサポート](../support/images/account_support.svg) をクリックして、**「状況」**を選択します。  |

### イベント・サブスクリプションのセットアップ

イベント・サブスクリプションを使用してカスタム E メールをセットアップするか、Web フックを使用して任意のツールと統合することで、「管理」ページおよび「状況」ページに送信される通知の機能を拡張できます。Web フック・オプションを選択した場合、通知は、(SMS メッセージによって) 電話番号などの任意の宛先に直接ルーティングされます。通知のタイプ (具体的には、保守更新アラートまたは重大なインシデント・アラート) および各通知に含める情報をカスタマイズできます。

**注**: イベント・サブスクリプションをセットアップできるのは、管理許可 (`ops.admin`) を備えているユーザーのみです。

**「イベント・サブスクリプション」**ページにアクセスするには、以下のステップを実行します。

* 保守更新通知の場合、**「システム情報」&gt;「*数値* 件保留中 (*Number* pending)」&gt;「サブスクリプション」**に移動します。
* インシデントの通知の場合は、**「アカウントとサポート」**アイコン ![アカウントとサポート](../support/images/account_support.svg) &gt; **「状況」**をクリックし、次に**「サブスクライブ」**アイコン ![サブスクライブ](images/icon_subscribe.svg) をクリックします。

**注**: 説明されている 2 つの方法のいずれかを使用して、両方のタイプの通知のイベント・サブスクリプション・ページにアクセスできます。

**「イベント・サブスクリプション」**ページから E メールまたは Web フック・サブスクリプションを作成するには、以下のステップを実行します。

1. **「サブスクリプションの追加」**をクリックします。
2. イベント・サブスクリプション・フォームに記入します。フォーム上のフィールド、ペイロード・セクションで使用する値、および E メール・テンプレートのメッセージ本文については、次の表を確認してください。
3. フォームに入力した後に、以下のオプションから選択できます。

  * **「保存」**をクリックして、サブスクリプションをイベント・サブスクリプション・リストに保存する。 
  * **「保存してテスト」**をクリックして、通知を保存してテストする。 
  * **「保存して閉じる」**をクリックして、サブスクリプションをイベント・サブスクリプション・リストに保存し、前のページに戻る。

*表 3. E メール・サブスクリプションのイベント・サブスクリプション・フォームのフィールド*

| **フィールド** | **説明** |
|-----------------|-------------------|
| タイプ  | **「E メール」**を選択します。 |
| イベント | 更新またはインシデントに関する通知にサブスクライブすることを選択します。 |
| 有効 | E メール通知を有効にする場合は、このオプションを選択します。E メール通知を無効にする場合は、選択をクリアします。デフォルトでは、サブスクリプションは有効になっています。 |
| サブジェクト | E メールの件名を入力します。これは必須フィールドです。  |
| 本文 | E メールで送信するメッセージ本文のテキストを入力します。IBM ペイロード値を使用して、E メール通知に関連情報を取り込むことができます。使用できる値を識別するには、表『[ペイロード・セクションの値](index.html#payload)』を参照してください。基本 HTML タグを使用して、E メールを構造化します。このセクションに情報を入力しないと、追加情報が何もない通知を受け取ります。これは必須フィールドです。 |
| 宛先 | 単一の E メール・アドレス、または、メール通知の受信者のコンマ区切りリストを使用して複数の E メール・アドレスを入力します。E メールを他のユーザーに複製送信するには、「cc」オプションまたは「bcc」オプションを展開します。これは必須フィールドです。 |
| 説明 | 作成するサブスクリプションの固有の説明を追加します。 |


*表 4. Web フック・サブスクリプションのイベント・サブスクリプション・フォームのフィールド*

| **フィールド** | **説明** |
|-----------------|-------------------|
| タイプ  | **「Web フック」**を選択します。 |
|  方法  | **GET** または **POST** を選択します。 |
| イベント | 更新またはインシデントに関する通知にサブスクライブすることを選択します。 |
| URL | Web サービスに接続するための URL を入力します。 |
| 説明 | 作成するサブスクリプションの固有の説明を追加します。 |
| ユーザ名 | Web サービスのユーザー名を入力します。個人の資格情報を使用したくない場合は、{{site.data.keyword.Bluemix_notm}} 専用に使用する機能 ID をセットアップできます。 |
| パスワード | Web サービスのパスワードを入力します。 |
| ペイロード | POST 方式を選択した場合は、使用する Web サービスに固有のプロパティーを、IBM 通知に使用されるペイロード値とペアにして入力します。使用できる値を識別するには、表『[ペイロード・セクションの値](index.html#payload)』を参照してください。このセクションに情報を入力しないと、追加情報が何もない通知を受け取ります。 |

*表 5. ペイロード・セクションの値*
{: #payload}

| **IBM 値** | **説明** | **イベント・タイプ** |
|----------------|----------------|------------------------|
| {{content.title}} | メッセージ・タイトル |  更新およびインシデント  |
| {{type}} | 更新またはインシデント | 更新およびインシデント | 
| {{region}} | 影響を受ける地域 | 更新およびインシデント |
| {{content.message}} | メッセージの説明 |   更新およびインシデント  |
| {{content.severity}} | 重大度レーティング | インシデント |
| {{content.category}} | 影響を受けるサービス | インシデント |
| {{content.subCategoryName}} | 影響を受けるコンポーネント | インシデント |
| {{status}} | 更新の状況 | 更新 |
| {{content.scheduleWindow.start}} | 更新のスケジュールされている開始日 | 更新 |
| {{content.scheduleWindow.end}} | 更新のスケジュールされている終了時刻 | 更新 |
| {{content.disruption}} | 影響を受けるコンポーネント | 更新 |

イベント・サブスクリプションを保存すると、セットアップした方式を使用して通知を受け取ります。通知は、従来どおり、インシデントの場合は「状況」ページ、保守更新の場合は「管理」ページの「通知」エリアに表示されます。

保存された任意のイベント・サブスクリプションを選択したり、最新のアクティビティーを表示したり、必要に応じて編集したりすることができます。任意の最新のアクティビティー項目をクリックして展開すると、その履歴詳細が表示されます。

## 保守の更新情報
{: #oc_schedulemaintenance}

**「管理」&gt;「システム情報」&gt;「*数値* 件保留中 (*Number* pending)」**と進んで**「システム更新」**ページにアクセスして、スケジュールされた保守更新および保留中の保守更新を表示できます。 

**注**: 開始するには、『[事前承認済み保守期間の設定](index.html#preapprovedmaintenance)』の以下のセクションを参照してください。IBM がご使用の環境の保守をスケジュールするには、この期間が設定されている必要があります。

<dl>
<dt>停止を伴わない更新</dt>
<dd>停止を伴わない更新は、ご使用の環境、実行中のアプリケーション、およびユーザーによるアプリケーションへのアクセスに影響しません。この更新タイプは、ケースバイケースの承認を必要とせず、「システム更新」ページから設定した、事前承認済みの選択可能な保守期間中に適用されます。</dd>
<dt>停止を伴う更新</dt>
<dd>停止を伴う更新は、ご使用の環境、実行中のアプリケーション、またはユーザーによるアプリケーションへのアクセスに影響する可能性があります。割り当てられた 21 日の保守期間内に、このタイプの各保守更新をスケジュールし、承認する必要があります。推奨されたデプロイメント日時または任意の事前承認済み期間のオプションを選択できます。あるいは、カレンダーを開いて、特定の 3 つの日時を選択できます。この場合、IBM は、更新をスケジュールする際にそのいずれかの日時を選択します。</dd>
</dl>


### 事前承認済み保守期間の設定
{: #preapprovedmaintenance}

更新のスケジュールおよび承認を開始する前に、事前承認済み保守期間を設定する必要があります。停止を伴わない更新は、事前承認済み期間中にスケジュールされます。 

各週に最短でも 3 日間、1 週に最短でも 24 時間の選択可能な期間を設定する必要があります。例えば、3 日間にそれぞれ 8 時間を設定したり (8 時間 × 3 日)、4 日間にそれぞれ 6 時間を設定 (6 時間 × 4 日) したりすることができます。その期間で更新の適用に十分な時間が確実に得られるようにするために、各期間は最短でも 4 時間の長さでなければなりません。

**注**: 保守更新をスケジュールおよび承認できるのは、管理許可 (`ops.admin`) を備えているユーザーのみです。

1. **「管理」&gt;「システム情報」&gt;「*数値* 件保留中 (*Number* pending)」&gt;「更新内容の管理
」**に移動します。
2. **「適用可能な更新内容の管理ウィンドウ」**セクションを展開します。
3. **「新規追加」**![新規追加](images/add-new.png) をクリックします。
4. 期間の頻度、長さ、および開始時刻を選択して、最初の選択可能な期間を設定します。
5. **「送信」**をクリックします。
6. 1 週間の期間の最小要件を満たすまで、このプロセスを繰り返します。

### 選択不可の保守期間の設定

事前承認済みの選択可能な保守期間を設定した後に、ご使用の環境で更新が不可である特定の日時を設定することを選択できます。例えば、トラフィックが多い週末や休日を選択し、アプリケーションがユーザーに確実に使用可能になるように、その期間に保守を適用しないようにすることができます。

1. **「管理」&gt;「システム情報」&gt;「*数値* 件保留中 (*Number* pending)」&gt;「更新内容の管理
」**に移動します。
2. **「適用不可能な更新内容の管理ウィンドウ」**セクションを展開します。
3. **「新規追加」**![新規追加](images/add-new.png) をクリックします。
4. 期間の頻度、長さ、および開始時刻を選択して、選択不可の期間を設定します。
5. **「送信」**をクリックします。

### 更新のスケジュールおよび承認
{: #scheduleandapprove}

事前承認済み保守期間の設定が終わると、停止を伴わない更新は、その期間中に自動的にスケジュールされます。このタイプの更新に対する明示的な承認は不要です。ただし、更新対象、更新にかかる時間、更新のスケジュール日時など、各保守更新の詳細を表示できます。 

停止を伴わない更新の詳細を表示するには、以下のステップを実行します。

1. **「管理」&gt;「システム情報」&gt;「*数値* 件保留中 (*Number* pending)」**に移動します。
2. **「お客様によるスケジュールが必要 (Customer Scheduling Required)」**が**「いいえ」**に設定されている行を特定します。
3. その更新の行を選択し、詳細を表示します。

停止を伴う更新は、ご使用の環境、実行中のアプリケーション、またはユーザーによるアプリケーションへのアクセスに影響する可能性があります。割り当てられた 21 日の保守期間内に、このタイプの各保守更新をスケジュールし、承認する必要があります。推奨されたデプロイメント日時または任意の事前承認済み期間のオプションを選択できます。あるいは、カレンダーを開いて、特定の 3 つの日時を選択できます。この場合、IBM は、更新をスケジュールする際にそのいずれかの日時を選択します。

承認する必要がある、停止を伴う更新の場合、以下のステップを実行します。

1. **「管理」&gt;「システム情報」&gt;「*数値* 件保留中 (*Number* pending)」**に移動します。
2. **「お客様によるスケジュールが必要 (Customer Scheduling Required)」**が**「はい」**に設定されている行を特定します。
3. その更新の行を選択し、更新の説明、更新の推奨日時、影響を受けるコンポーネント、更新の所要時間など、更新の詳細を確認します。
4. **「スケジュール設定と承認」**を選択します。
5. **「候補の日付」**、**「特定の日付」**、または**「事前に承認されたウィンドウ」**のオプションから選択します。**「特定の日付」**を選択した場合、カレンダーを開き、3 つのオプションを選択できます。IBM はそのいずれかを選択します。
6. 終了したら、**「送信」**を選択します。 

選択内容に基づいて、受け入れた候補日、事前承認済み期間のいずれか、または選択した特定の日時のいずれかに、更新のデプロイメントがスケジュールされます。IBM が更新のデプロイメントをスケジュールしたら、**「システム更新」**ページに、更新の詳細が反映されたスケジュール日が表示されます。


## システム情報の表示
{: #oc_system}

システム情報を表示するには、**「管理」&gt;「システム情報 (SYSTEM INFORMATION)」** をクリックします。

保留中の保守更新、全般的なシステム情報、および LDAP 構成の詳細に関する様々なセクションを展開して表示することができます。

### 保留中のシステム更新

「更新」セクションでは、お客様の側でのアクションが必要な保留中の更新の通知数を確認できます。確認できる保守更新には、以下の 2 つのタイプがあります。

<dl>
<dt>停止を伴わない更新</dt>
<dd>停止を伴わない更新は、ご使用の環境、実行中のアプリケーション、およびユーザーによるアプリケーションへのアクセスに影響しません。この更新タイプでは、ケースバイケースの承認は不要です。このタイプの更新は、「システム更新」ページから設定した、事前承認済みの選択可能な保守期間中に適用されます。</dd>
<dt>停止を伴う更新</dt>
<dd>停止を伴う更新は、ご使用の環境、実行中のアプリケーション、またはユーザーによるアプリケーションへのアクセスに影響する可能性があります。割り当てられた 21 日の保守期間内に、このタイプの各保守更新をスケジュールして承認し、重要な営業時間中に更新が適用されないようにすることができます。事前承認済み更新期間に基づいた、候補のデプロイメント日時を選択できます。あるいは、IBM が更新の適用時に選択するための 2 つの追加日時を選択できます。</dd>
</dl>

事前承認済み保守期間の設定、保守に選択不可の特定の日付の選択、およびカレンダー・フィードのセットアップについて詳しくは、『[保守の更新情報](index.html#oc_schedulemaintenance)』を参照してください。

### 一般的なシステム情報

「一般情報 (General Information)」セクションでは、以下の情報を表示できます。

- {{site.data.keyword.Bluemix_notm}} ビルドに関する基本情報。
- バージョン、URL、地域、および CLI 資料へのリンクが含まれた API 情報。
- システムおよびサービスに関する共有ドメイン情報。
- アプリケーション、ユーザー、および組織の総数に関する統計。

### LDAP 構成の詳細

「LDAP 構成の詳細 (LDAP Configuration Details)」セクションでは、LDAP サーバーを選択し、ユーザーとグループのマッピング情報を表示できます。{{site.data.keyword.IBM}} WebID を使用している場合は、このセクションに示されます。

## 使用量およびレポートの表示
{: #oc_resource}

ローカル・インスタンスまたは専用インスタンスおよび {{site.data.keyword.Bluemix_notm}} アカウントに関するさまざまなタイプの使用量情報を表示できます。ご使用の {{site.data.keyword.Bluemix_notm}} インスタンスのセキュリティー・レポートおよびログをダウンロードして表示することもできます。

- リソース情報 (ディスク・スペース、CPU 使用量、ネットワーク使用量、および平均応答時間を含む)。『[リソース使用量](index.html#resourceusage)』を参照してください。
- 組織ごとのアカウント使用 (ランタイム・アプリ数と使用量、ランタイム GB 時間の合計数、およびサービス・インスタンス数と使用量を含む)。『[アカウント使用量](index.html#accountusage)』を参照してください。
- 組織のメモリー割り当て量の使用量、合計使用済みメモリー割り当て量に基づいて割り振られたアプリ・メモリー、および特定の組織のアプリごとの GB 時間使用量の表示。また、「組織管理」ページの「割り当て量のモニター」セクションに、すべての組織の割り当て量の使用状況を表示することもできます。『[組織管理](../admin/index.html#orgusage)』を参照してください。


### リソース使用量
{: #resourceusage}

リソース使用量情報を表示するには、**「管理」&gt;「使用量」**をクリックします。

「リソース・モニタリング (Resource Monitoring)」セクションでは、以下の情報を表示できます。

- リソース使用率情報 (何 GB のメモリー、何 GB のディスク・スペースが使用されているか、など)。すべての Droplet Execution Agent (DEA) での平均 CPU 使用量を表示することができます。**「CPU」**タイルをクリックすることで、各 DEA の CPU 使用量を表示できます。使用量が最も大きい DEA が先頭にリストされます。各 DEA は、ジョブと IP アドレスによって識別されます。CPU 使用量は、システム・プロセスで使用された CPU 量、ユーザー・プロセスで使用された CPU 量、および待機プロセスで使用された CPU 量の 3 つのカテゴリーに分かれています。
- 入力帯域幅および出力帯域幅のネットワーク使用率情報 (過去 1 日、1 週間、または 1 カ月)。
表示されるデータは、パブリック・ネットワークとプライベート・ネットワークの両方の入出力トラフィックの合計に基づいています。
- {{site.data.keyword.Bluemix_notm}} の平均応答時間 (過去 10 分、1 時間、および 1 日)。
- {{site.data.keyword.Bluemix_notm}} の 1 秒あたりの平均トランザクション数 (過去 10 分、1 時間、および 1 日)。

### アカウント使用量
{: #accountusage}

専用環境またはローカル環境のアカウントの月々の使用量を表示できます。このデータを使用して、使用量に基づいて特定の組織に対する課金額を特定できます。

<ol>
<li><strong>「アカウントとサポート」</strong>アイコン ![アカウントとサポート](../support/images/account_support.svg) &gt; <strong>「アカウント」</strong> &gt; <strong>「使用量詳細」</strong>をクリックします。</li>
<li>データを表示する組織を選択します。</li>
<li>以下のカテゴリーの使用量詳細を表示できます。<ul>
<li>使用量のあるランタイム・アプリ</li>
<li>ランタイム・アプリの合計使用量 (GB 時間)</li>
<li>使用量のあるサービス・インスタンス</li>
</ul>
</li>
<li>オプション: <strong>「クラウド・アクティビティー」</strong>メニューを使用して、月を選択し、特定の月のデータを表示します。</li>
<li>オプション: <strong>「データのエクスポート」</strong>をクリックして、<strong>CSV</strong> または <strong>JSON</strong> を選択し、選択した月のデータを <code>CSV</code> ファイルまたは <code>JSON</code> ファイルにエクスポートします。</li>
</ol>

{{site.data.keyword.Bluemix_notm}} Public からシンジケートされるランタイム、アプリ、およびサービスについて、月々の使用量および関連する料金をアカウント・レベルで表示することもできます。このデータを使用して、使用量に基づいて特定の組織に対する課金額を特定できます。

<ol>
<li><strong>「アカウントとサポート」</strong>アイコン ![アカウントとサポート](../support/images/account_support.svg) &gt; <strong>「アカウント」</strong> &gt; <strong>「使用量詳細」</strong>をクリックします。</li>
<li><strong>「パブリック」</strong>をクリックします。</li>
<li>データを表示する組織を選択するか、あるいは、すべての組織のデータを一度に表示するために<strong>「すべての組織」</strong>を選択します。</li>
<li>以下のカテゴリーの使用量詳細を表示できます。<ul>
<li>使用量のあるランタイム・アプリ</li>
<li>ランタイム・アプリの合計使用量 (GB 時間)</li>
<li>使用量のあるサービス・インスタンス</li>
<li>シンジケートされたすべてのランタイム、サービス、およびアプリの課金の要約</li>
</ul>
</li>
<li>オプション: 棒グラフから月を選択して、特定の月のデータを表示します。デフォルトでは、今月のデータが表示されます。</li>
<li>オプション: <strong>「データのエクスポート」</strong>をクリックして、<strong>CSV</strong> または <strong>JSON</strong> を選択し、選択した月のデータを <code>CSV</code> ファイルまたは <code>JSON</code> ファイルにエクスポートします。</li>
</ol>


### 組織の使用量
{: #orgusage}

組織ごとの使用量を表示するには、**「管理」&gt;「組織管理」**をクリックし、**「組織リスト」**から組織を選択します。選択した組織の**「組織の管理」**ページで、以下の使用量情報を表示できます。

- 現在使用中のサービスの数。
- 現在使用中の経路の数。
- 割り当て量のうち、どのくらいの量が現在使用されており、どのくらいの量が現在使用されていないかを示す、メモリー割り当て量グラフ。
- どのアプリケーションが使用済みメモリー割り当て量に含まれているかを示す、アプリケーション割り振りグラフ。
- デプロイされたアプリごとの 3 カ月間の使用 GB 時間数のレポートを表示する、従量制アプリケーション使用量グラフ。**「リスト表示」**を選択すると、すべてのアプリについて、アプリごとのメモリー割り振りおよび過去 3 カ月間の従量制 GB 時間使用量などのデータを確認できます。

組織ごとの使用量の表示、割り当て量プランの調整、および組織の管理について詳しくは、『[組織の管理](../admin/index.html#oc_organizations)』を参照してください。

### reports
{: #oc_report}

ご使用の {{site.data.keyword.Bluemix_notm}} インスタンスに関して、セキュリティー・レポートやログ (DataPower&trade;、ファイアウォール、およびログイン監査など) を表示できます。レポートやログを表示するには、**「管理」&gt;「レポートおよびログ (REPORTS AND LOGS)」**をクリックします。

以下のオプションから選択します。

- フィールドから開始日および終了日を選択して、表示するレポートとログをフィルタリングできます。

- ナビゲーション・ペインから各種レポートを展開および表示できます。
- レポートおよびログのコレクション内で検索できます。検索は、レポート名に加え、レポートおよびログ内に含まれているテキスト・コンテンツにも適用されます。**「管理イベント (Administration Events)」**、**「DataPower レポート (DataPower Reports)」**、**「ファイアウォール (Firewall)」**、および**「ログイン監査 (Login Audit)」**によって検索をフィルターに掛けることもできます。
- レポートまたはログを表示している時、![ダウンロード](images/icon_download.png) アイコンをクリックするとレポートをダウンロードできます。

以下の表では、{{site.data.keyword.Bluemix_notm}} Local および {{site.data.keyword.Bluemix_notm}} Dedicated 用に生成されるセキュリティー・レポートのリストを示します。

*表 6. セキュリティー・レポートのリスト*

| **カテゴリー** | **レポート** | **説明** |      
|-----------------|-------------------|---------------------|
| ファイアウォール | ファイアウォールのログイン | Vyatta ファイアウォール・デバイスへの管理者のログインに関するイベント。 |
| ファイアウォール | ファイアウォールの拒否 | 設定されているファイアウォール・ルールに従ってアクセス要求が拒否された場合に Vyatta ファイアウォール・デバイスによって生成されるイベント。 |
| {{site.data.keyword.Bluemix_notm}} 管理者のログイン・イベント | {{site.data.keyword.Bluemix_notm}} 管理者のログイン | 管理者が各 {{site.data.keyword.Bluemix_notm}} システム上で SSH セッションを開始したときにオペレーティング・システムによって生成されるイベント。 |
| {{site.data.keyword.Bluemix_notm}} アプリケーション開発者のログイン・イベント | {{site.data.keyword.Bluemix_notm}} アプリケーション開発者のログイン | コマンド・ライン、REST API、または {{site.data.keyword.Bluemix_notm}} ユーザー・インターフェースを使用して {{site.data.keyword.Bluemix_notm}} プラットフォーム・ユーザーがセッションを開始したときに {{site.data.keyword.Bluemix_notm}} プラットフォーム・ログイン・コンポーネントによって生成されるイベント。 |
| {{site.data.keyword.Bluemix_notm}} 管理者の管理イベント | {{site.data.keyword.Bluemix_notm}} 管理者のオペレーティング・システム管理イベント | 管理者が現行作業セッション内でアクションを実行したときにオペレーティング・システムによって生成されるイベント。 |
| {{site.data.keyword.Bluemix_notm}} アプリケーション開発者の管理イベント | {{site.data.keyword.Bluemix_notm}} (Cloud Foundry) 管理イベント | コマンド・ライン、REST API、または {{site.data.keyword.Bluemix_notm}} ユーザー・インターフェースを使用して {{site.data.keyword.Bluemix_notm}} プラットフォーム・ユーザーによって実行された操作に関連するイベント。 |
| {{site.data.keyword.Bluemix_notm}} 管理者のデータベース管理イベント | データベース管理イベント | {{site.data.keyword.Bluemix_notm}} 内部データベースでデータベース管理者によって実行された操作に関連するイベント。 |
| 管理イベント | ユーザー管理イベント | 「管理」ページで実行されたユーザー管理アクションに関連するイベント。 |
| 管理イベント | catalog | サービス・カタログの変換に関連するイベント。 |
| 管理イベント | セキュリティー・レポート管理イベント | 「管理」ページで実行されたセキュリティー・レポート管理アクションに関連するイベント。 |
| アクセス・レビュー | アクセス・レビュー・レポート | 特権アクセスのレビュー。 |
| 変更管理 | ソフトウェア変更管理 | 変更管理アクティビティー。 |
| 鍵管理 | カスタム SSL 証明書の管理 | アップロードおよび保管されたカスタム SSL 証明書。 |
| 暗号化 | 転送中のデータ暗号化 | 構成されている転送中のデータ暗号化。 |
| アンチウィルス | アンチウィルス・スキャン・レポート | 配置されているアンチウィルス・ソフトウェア。 |
| ソフトウェア・フィックス管理 | パッチ適用レポート | 適用されたソフトウェア・フィックス。 |
| セキュリティー・インシデント管理 | セキュリティー・インシデント修復レポート | セキュリティー・インシデント管理のセキュリティー・インシデントのエビデンス。 |

## 状況の表示
{: #oc_status}

{{site.data.keyword.Bluemix_notm}} 環境および管理コンソールの状況を表示できます。

### {{site.data.keyword.Bluemix_notm}} 環境の状況

{{site.data.keyword.Bluemix_notm}} の「状況」ページを使用して、ご使用の {{site.data.keyword.Bluemix_notm}} インスタンスの状況をモニターできます。**「アカウントとサポート」**アイコン ![アカウントとサポート](../support/images/account_support.svg) をクリックして、**「状況」**を選択します。

「状況」ページは、{{site.data.keyword.Bluemix_notm}} プラットフォームや {{site.data.keyword.Bluemix_notm}} 内の主要なサービスに影響を及ぼす重要な事象に関する通知や発表を見つけるための中心的な場所です。通知を調べずに済むように、通知の RSS フィードをサブスクライブすることができます。「状況」ページおよび RSS フィードのセットアップについて詳しくは、『[{{site.data.keyword.Bluemix_notm}} の表示](../support/index.html#viewing-bluemix-status)』を参照してください。

### 管理コンソールの状況

{{site.data.keyword.Bluemix_notm}} 環境の初期デプロイメント後に、ご使用の環境の管理に使用されるコンポーネントに対して検証チェックが自動的に実行されます。検証検査の実行後に、管理コンソールの「検証チェック」ページに移動して、コンポーネントの状況を確認できます。このページにアクセスするには、<code>https://console.&lt;subdomain&gt;.bluemix.net/check</code> に移動します。ここで、`<subdomain>` は、ご使用のローカルまたは専用インスタンスの名前です。

検証はいつでも実行できます。検証を実行するためのオプションを選択するには、ログインしていなければなりません。ユーザーの追加時、組織の編集時、またはサービスの管理時に障害が発生した場合は、この検査を実行して、障害が発生しているか切断されているコンポーネントがないかを確認します。問題を迅速に解決するために、検査の情報を使用してサポート・チケットをオープンできます。

## カタログの管理
{: #oc_catalog}

{{site.data.keyword.Bluemix_notm}} カタログで、どの {{site.data.keyword.Bluemix_notm}} サービスおよびスターターをユーザーに表示するかを管理することができます。**「管理」&gt;「カタログ管理」**をクリックします。

サービスまたはスターターのタイルを選択して、サービスまたはスターターのプランの表示可能性を編集します。表示可能性を編集するには、以下のオプションから選択します。

- 非表示のサービスまたはスターターを表示して、「カタログ」でユーザーに表示されるようにするには、**「すべてのプランを有効化 (ENABLE ALL PLANS)」**を選択します。
- {{site.data.keyword.Bluemix_notm}} カタログで、サービスやスターターをユーザーに対して非表示にするには、**「すべてのプランを無効化 (DISABLE ALL PLANS)」**を選択します。
- 個別プランの表示可能性を制御するには、プラン名を選択してから、ドロップダウン・メニューを使用して**「すべての組織に対して有効化 (Enable for all organizations)」**、 **「すべての組織に対して無効化 (Disable for all organizations)」**、または**「特定の組織に対してプランを有効化 (Enable plan for specific organizations)」**を選択します。

アプリケーションの作成時におけるご使用のデベロッパーの互換性に基づいて、選択する使用可能なビルドパックの優先順位の順序を管理することもできます。

1. **「管理」&gt;「カタログ管理」**に移動します。
2. **「計算」**セクションに移動します。
3. **「ビルドパック優先度」**を選択します。
4. リスト内で、優先順位付けするビルドパック・オプションを選択します。
5. オプションを選択した状態で、矢印を使用してそのオプションをリスト内で移動します。リストで最も優先順位が高い項目から順に並べることで、優先順位は設定されます。

### サービス・ブローカーの登録
{: #servicebrokerui}

{{site.data.keyword.Bluemix_notm}} カタログに表示するサービスがある場合、サービス・ブローカーを実装して登録する必要があります。ブローカーを登録した後、ローカル・インスタンスまたは専用インスタンス内のサービスにアクセス可能な組織を選択できます。

サービス・ブローカーを処理する方法は、サービス・ブローカーが管理するサービスの数や、サービス・ブローカーが既に {{site.data.keyword.Bluemix_notm}} に登録されているかどうかによって異なります。

- サービス・ブローカーが 1 つのサービスを管理する場合、[Service Broker API](http://docs.cloudfoundry.org/services/api.html){: new_window} の実装後に、ユーザー・インターフェースを使用してサービス・ブローカーを登録できます。 『[1 つのサービスを管理するサービス・ブローカーの登録](index.html#registerbrokerui)』を参照してください。
- サービス・ブローカーが複数のサービスを管理する場合、現時点では、Service Broker API の実装後にサービス・ブローカーを登録することはできません。代わりに、[{{site.data.keyword.Bluemix_notm}} 管理 CLI](../cli/plugins/bluemix_admin/index.html) プラグイン (`ba` サブコマンド) で cf CLI を使用するか、[カスタム・サービス API](index.html#servicebrokerapi) を使用します。
- サービス・ブローカーが既に登録されていて、それを更新または削除する場合、[{{site.data.keyword.Bluemix_notm}} 管理 CLI](../cli/plugins/bluemix_admin/index.html) プラグイン (`ba` サブコマンド) で cf CLI を使用するか、[カスタム・サービス API](index.html#servicebrokerapi) を使用します。

#### 1 つのサーバーを管理するサービス・ブローカーの登録
{: #registerbrokerui}

サービス・ブローカーを登録するには、以下の手順を実行します。

<ol>
<li><a href="http://docs.cloudfoundry.org/services/api.html" target="_blank">Cloud Foundry Service Broker API を実装</a>し、サービスと {{site.data.keyword.Bluemix_notm}} との間の通信を可能にします。Service Broker API は、{{site.data.keyword.Bluemix_notm}} が利用する REST エンドポイントのセットです。<br />
<br />
<p>サービス・ブローカーを実装する際に、<code>GET /v2/catalog</code> の JSON 応答で、サービスの定義とサービス・プラン (表示するサービス情報を含む) を指定する必要があります。例として、以下のカタログ (GET) 応答のサンプル JSON を検討してください。</p>
<p><pre>
"services":[
   {
      "bindable":true,
      "description":"Cool Service is a data warehousing and analytics solution.",
      "id":"cool-service-id",
      "name":"coolservice",
"tags": [
"customer_dedicated"
            ],
"metadata": {
"displayName": "Cool Service",
         "serviceMonitorApi":"https://myservicesstatus.mybluemix.net/healthcheck/",
         "providerDisplayName":"Cool company",
         "longDescription":"Cool Service is a data warehousing and analytics solution. You can quickly move your data into a next-generation columnar in-memory database and start running complex analytical queries.",
"bullets":[
                              {
"title": "Fast and Simple",
"description": "Cool Service uses dynamic in-memory columnar technology and innovations, such as parallel vector processing and actionable compression to rapidly scan and return relevant data."
            },
            {
"title": "Connectivity",
               "description":"Cool Service is built to let you connect easily and to all of your services and applications. You can start analyzing your data right away with familiar tools."
            }
         ],
"featuredImageUrl": "http://path/to/icon_64x64.png",
"imageUrl": "http://path/to/icon_50x50.png",
"mediumImageUrl": "http://path/to/icon_32x32.png",
"smallImageUrl": "http://path/to/icon_24x24.png",
"documentationUrl": "http://path/to/documentation.html",
"instructionsUrl": "http://path/to/servicesample.md",
"termsUrl": "http://path/to/terms_of_agreement.pdf",
"media": [{
"type": "youtube",
"thumbnailUrl": "http://path/to/thumbnail.png",
"url": "http://path/to/youtube/video",
"caption": "Using Cool Service in 60 Seconds"
            },
            {
"type": "image",
"thumbnailUrl": "http://path/to/thumbnail.png",
"url": "http://path/to/image_file.png",
"caption": "Cool Service connects applications"
            },
            {
"type": "video",
"thumbnailUrl": "http://path/to/thumb.png",
"caption": "Cool Service works with tables",
"source": [{
"type": "video/mp4",
"url": "http://path/to/video_file.mp4"
                  },
                  {
"type": "video/ogg",
"url": "http://path/to/video_file.ogg"
                  }
               ]
            }
         ]
      },
      "plans":[
         {
            "name":"smallplan",
            "description":"Dedicated schema and tablespace per service instance on a shared server. 1GB and 10GB of compressed database storage can hold up to 5GB and 50GB of uncompressed data respectively based on typical compression ratios.",
            "free":false,
            "id":"cool-service-plan-id",
"metadata": {
"bullets":[
                                    "1 GB Min per instance. 10 GB Max per instance."
               ],
               "costs":[
                  {
"unitId":"INSTANCES_PER_MONTH",
                     "unit":"MONTHLY",
                     "partNumber":"D15UTLL"
                  }
                              ],
               "displayName":"Small"
            }
         }
      ]
   }
]
}
</pre></p>
<p><strong>注</strong>: ローカル環境または専用環境のサービス・ブローカーを作成する場合、サービス定義 JSON ファイルの 「tags」フィールドに `customer_dedicated` を指定する必要があります。</p>
</li>
<li>Service Broker API の実装後、<strong>「管理」</strong> &gt; <strong>「カタログ管理」</strong>に移動します。</li>
<li><strong>「サービス・ブローカーの登録」</strong>をクリックします。</li>
<li>以下のフィールドに値を入力して、フォームを完成させます。<ul>
<li>サービス・ブローカー名</li>
<li>サービス・ブローカー URL</li>
<li>サービス・ブローカー・ユーザー名</li>
<li>サービス・ブローカー・パスワード</li>
</ul>
</li>
<li><strong>「接続」</strong>をクリックします。</li>
<li>利用可能なプラン、アイコン、およびサービスの説明など、サービスの情報を確認します。<br />
<p><strong>注</strong>: サービスのカタログ情報を変更する必要がある場合は、サービス・ブローカーを更新し、フォームに記入して、再度、登録プロセスを開始します。</p>
</li>
<li><strong>「登録」</strong>をクリックします。</li>
<li>サービスのすべてのプランを有効にするか、特定のプランのみを有効にするかを選択します。デフォルトでは、すべてのプランが無効になっています。</li>
<li>すべての組織または特定の組織のサービス・インスタンスを有効にします。</li>
</ol>

これで、サービスが {{site.data.keyword.Bluemix_notm}} カタログの「カスタム・サービス」カテゴリーに表示されるようになりました。**「管理」&gt;「カタログ管理」**に移動し、カタログでタイルを選択します。いつでも、別のプランを有効にしたり、組織に対するプランの表示可能性を編集したりできます。

## 組織の管理
{: #oc_organizations}

組織の作成と削除、組織の管理者の追加または削除、および割り当て量の使用状況のモニターを行って組織を管理し、ビジネスにとって最良の決定を下すことができます。

**「管理」&gt;「組織管理 (ORGANIZATION ADMINISTRATION)」**をクリックします。

さまざまなセクションを展開および表示できます。組織の割り当て量プランを確認および管理することもできます。

### 組織の作成

新規の組織を作成し、管理者を追加するには、以下の手順を実行します。

1. <strong>「組織の作成」</strong>をクリックします。
2. 組織の名前を入力します。
3. 管理者として追加する個人の名前または E メールを入力します。複数の名前を入力および選択することで、複数のマネージャーを追加できます。
4. <strong>「組織の作成」</strong>をクリックし、変更を保存して組織を作成します。

### スペースの作成

組織内にスペースを作成できます。例えば、開発環境として *dev* スペース、テスト環境として *test* スペース、実稼働環境として *production* スペースを作成できます。その後、各スペースにアプリを関連付けることができます。以下のステップを実行してスペースを作成します。

1. **「アカウントとサポート」**アイコン ![「アカウントとサポート」アイコン](../admin/images/account_support.svg) &gt;**「組織の管理」**ページに移動します。
2. スペースを追加する組織を選択します。
3. **「スペースの作成」**をクリックします。
4. スペース名を入力してください。
5. **「作成」**をクリックします。

### 割り当て量のモニター

「割り当て量のモニター (Quota Monitoring)」セクションでは、セクションを展開して、以下の情報を表示できます。

- 環境メモリー使用量。このセクションでは、完全なシステム環境のメモリー使用量が詳細に示されます。
グラフで、使用中システム・メモリー、合計システム・メモリー、使用済みの割り当て量、および割り振られている合計割り当て量を含む情報が示されます。以下の用語リストで、グラフに表示されるメモリー使用量のタイプを定義します。

	<dl>
	<dt><strong>使用中システム・メモリー (Used system memory)</strong></dt>
	<dd>環境で使用されている物理メモリー。</dd>
	<dt><strong>合計システム・メモリー (Total system memory)</strong></dt>
	<dd>環境で使用可能な合計物理メモリー。</dd>
	<dt><strong>デプロイ済み割り当て量 (Quota deployed)</strong></dt>
	<dd>すべての組織でデプロイされているすべてのアプリ用に割り振られているメモリーの合計。デプロイ済み割り当て量の合計は、環境の物理的な合計システム・メモリーを超過する可能性があります。例えば、合計システム・メモリーが 16 GB で、合計 5 個の異なる組織にそれぞれ 4 GB のメモリーを割り振った場合、合計割り当て量は、すべての組織についてお客様に割り振られている合計システム・メモリーを超過しています。ただし、多くの場合、各組織に個別に割り振られている合計割り当て量を各組織が使用していないことが考えられます。また、すべての組織が、それぞれに割り振られている合計メモリー割り当て量を同時に使用しないことが考えられます。</dd>
	<dt><strong>合計割り当て量 (Total quota)</strong></dt>
	<dd>すべての組織に割り振られている合計メモリー。</dd>
	</dl>

- 組織のメモリー使用量。このセクションでは、組織レベルでのメモリー使用量の詳細が示されます。合計割り当て量、および各組織にデプロイされている割り当て量を表示できます。グラフで、組織別の最も大きいメモリー使用量をリストした情報が示されます。デフォルトでは、使用メモリー量が最大の組織がリストの先頭になります。**「最大メモリー使用量 (Highest Memory Usage)」**および**「過剰メモリー割り振り (Excess Memory Allocation)」**を基準としてソートできます。

	<dl>
	<dt><strong>最大メモリー使用量 (Highest Memory Usage)</strong></dt>
	<dd>このオプションは、最大メモリー量を使用している組織を特定するために使用します。使用メモリー量が最も多い組織を特定するため、最大メモリー使用量を基準としてソートします。リストは、デプロイ済み割り当て量によってソートされます。</dd>
	<dt><strong>過剰メモリー割り振り (Excess Memory Allocation)</strong></dt>
	<dd>このオプションは、必要より大きい割り当て量プランが設定されている組織を識別する場合に使用します。
過剰メモリー使用量を基準としてソートすることで、当該組織に割り振られている割り当て量に対して使用メモリー量が最小の組織を識別します。</dd>
	</dl>

### 割り当て量プランの調整

組織の割り当て量プランを変更するには、以下の手順を実行します。

<ol>
<li>「組織のメモリー使用量」セクションで、グラフ内で編集する組織のバーをクリックするか、「組織リスト」セクションで組織の名前を選択します。</li>
<li>「組織の管理」ページでは、割り当て量プランの変更、組織の名前の変更、およびマネージャーの追加/削除を行うことができます。<br />
<p><strong>注</strong>: 組織の現在の使用量には不十分な割り当てプランを選択した場合、メッセージを受け取ります。</p>
</li>
<li>「組織の管理」ページで行った変更を保存するには、<strong>「保存」</strong>をクリックします。</li>
</ol>

### 組織リストからの組織の管理

「組織リスト」セクションでは、{{site.data.keyword.Bluemix_notm}} 環境内のすべての組織を表示することができ、組織名をクリックして個別の組織に対するアクションを実行できます。

- 組織を削除するには、「アクション」列の**「削除」**アイコン ![削除](images/icon_trash.svg) をクリックします。
- 組織の割り当て量プランおよび割り当て量の使用状況を表示するには、リスト内の組織の名前をクリックします。選択した組織の**「組織の管理」**ページで、以下の使用量情報を表示できます。

  - 現在使用中のサービスの数。
  - 現在使用中の経路の数。
  - 割り当て量のうち、どのくらいの量が現在使用されており、どのくらいの量が現在使用されていないかを示す、メモリー割り当て量グラフ。
  - どのアプリケーションが使用済みメモリー割り当て量に含まれているかを示す、アプリケーション割り振りグラフ。
  - デプロイされたアプリごとの 3 カ月間の使用 GB 時間数のレポートを表示する、従量制アプリケーション使用量グラフ。**「リスト表示」**を選択すると、すべてのアプリについて、アプリごとのメモリー割り振りおよび過去 3 カ月間の従量制 GB 時間使用量などのデータを確認できます。

- 組織の名前の編集や、管理者の追加または削除を行うには、リスト内の組織の名前をクリックし、画面のプロンプトに従います。

## ユーザーおよび許可の管理
{: #oc_useradmin}

LDAP を使用し、自社のユーザー・レジストリーからご使用の {{site.data.keyword.Bluemix_notm}} インスタンスにユーザーを追加できます。ユーザーは、個別またはグループで追加できます。また、ユーザー許可を表示できます。`admin` 許可が割り当てられている場合、他のユーザーの許可を設定および管理することもできます。**「管理」&gt;「ユーザー管理 (USER ADMINISTRATION)」**をクリックします。

「ユーザー管理 (User Administration)」ページに、ローカル・インスタンスまたは専用インスタンスのユーザーが全員表示されます。
各ユーザーの許可が表示されます。許可は、None、`Admin`、`Catalog`、`Login`、`Reports`、および `Users` のいずれかになります。許可を有効にするか、または目的の許可について `view` 権限または `write` アクセス権限をユーザーに与えることができます。許可および権限はアイコンで示されます。アイコンの各タイプと説明については、『[許可](index.html#permissions)』を参照してください。

### ユーザーの操作

既存のユーザーの検索、ユーザーの削除、および個別またはグループでのユーザーの追加を行うことができます。以下のオプションから選択します。

* ユーザーを検索します。**「検索」**フィールドを使用して、表内のユーザーを検索できます。

* 単一のユーザーを追加します。`admin` 許可、または `write` アクセス権限がある `users` 許可を持っている場合、ユーザーを追加することができます。

  1. LDAP ディレクトリーの単一のユーザーを追加するには、**「ユーザーの追加」**をクリックします。
  2. **「検索」**フィールドに、ユーザーの E メール・アドレスを入力し、取り込まれたリストからユーザーを選択します。
  3. 次に、**「組織」**フィールドで、組織名を入力し、取り込まれたリストから該当する組織を選択することで、ユーザーを追加する組織を選択します。
  4. 選択した組織にユーザーを追加するには、**「ユーザーの追加」**をクリックします。

  **注**: 追加操作が成功すると、ユーザーが表に追加され、表示および検索できるようになります。追加されたユーザーには、許可は割り当てられていません。

* LDAP ディレクトリーからユーザー・グループを追加します。

  1. **「ユーザー・グループの追加」**をクリックします。
  2. **「検索」**フィールドに、検索するグループ名を入力し、取り込まれたリストからグループ名を選択します。
  3. 次に、**「組織」**フィールドで、組織名を入力し、取り込まれたリストから該当する組織を選択することで、ユーザー・グループを追加する組織を選択します。
  4. 選択した組織にユーザー・グループを追加するには、**「ユーザーの追加」**をクリックします。
  **注**: 50 人を超えるユーザーのグループは、バックグラウンド・バッチ・ジョブを介して追加されます。追加操作が成功すると、ユーザーまたはグループが表に追加され、表示および検索できるようになります。追加されたユーザーには、許可は割り当てられていません。

* ユーザー ID、ユーザーの E メール・アドレス、およびユーザーを追加する予定の組織が含まれているスプレッドシートをインポートすることで、ユーザー・グループを追加します。

  1. **「ユーザーのインポート」**をクリックします。
  2. **「テンプレート (.CSV) のダウンロード」**をクリックして、入力可能な必須列が入ったスプレッドシートをダウンロードします。あるいは、必須の列見出し**「ユーザー ID」**、**「E メール」**、**「組織」**が含まれているスプレッドシートを使用して、自分で作成することもできます。テンプレートには、2 つのオプションの列**「名前」**および**「姓」**も含まれています。
  3. 必須列にユーザーの値を入力します。LDAP ディレクトリーを使用しない場合は、ユーザーをインポートするために、必須の列見出しとオプションの列見出しを使用します。
  4. ファイルを保存し、**「ファイルのアップロード」**をクリックします。
 

  **注**: ユーザー・レジストリーで使用されている値に一致するユーザー ID を入力してください。スプレッドシート内の列は、必須列がすべて揃っていれば、任意の順序で構いません。インポートが成功した場合、すべてのユーザーが追加されたことを示す確認メッセージを受け取ります。インポートが成功したユーザーと成功しなかったユーザーがいる場合は、エラー・メッセージを確認して、追加できなかったユーザーについてアクションを実行してください。

* ユーザーを削除します。`admin` 許可、または `write` アクセス権限がある `users` 許可を持っている場合、ユーザーを削除することができます。

    1. ユーザーを見つけ、![「削除」](images/icon_trash.svg) アイコンをクリックします。
    2. **「削除」**をクリックします。

### 許可
{: #permissions}

ユーザーには、以下の許可を割り当てることができます。

*表 7. 許可*

| **ユーザー許可** | **説明** |       
|-----------------|-------------------|
| admin | `admin` 許可を備えているユーザーは、他のユーザーの許可を編集できます。 |
| catalog | `catalog` 許可を持つユーザーには、ローカル・インスタンスまたは専用インスタンスで利用できるサービスを `view` または `write` (modify) するアクセス権限を割り当てることができます。 |  
| login | `login` 権限を持つユーザーは、「管理」ページを表示できます。この権限がない場合、ユーザーは「管理」メニュー・オプションを表示できません。 |
| reports | `reports` 許可を持つユーザーには、セキュリティー・レポートを `view` または `write` (modify) するアクセス権限を割り当てることができます。 |
| users | `users` 許可を持つユーザーには、ユーザー・リストを `view` するアクセス権限、またはユーザーを `write` (add または remove) するアクセス権限を割り当てることができます。この許可では、他のユーザーの許可を設定することはできません。|


許可を有効にするか、または目的の許可について `view` アクセス権限または `write` アクセス権限をユーザーに与えることができます。許可および権限は次のアイコンで示されます。

* ![有効。チェック・マークで示されている](images/icon_enabled.svg) アイコン (許可の横) は、その許可が有効になっていることを示しています。
* ![表示。目で示されている](images/icon_read.svg) アイコンは、そのユーザーに、その許可について `view` (read-only) アクセス権限があることを示しています。

* ![書き込み。鉛筆で示されている](images/icon_write.svg) アイコンは、そのユーザーに、その許可について `write` (edit、add、remove) アクセス権限があることを示しています。


他のユーザーの許可および組織を編集するには、`admin` 許可が必要です。許可を編集するには、ユーザーを特定し、ユーザー名をクリックします。**「ユーザーの編集」**ページで、以下のように許可を有効または無効にすることができます。

* 許可を有効にするには、リストから**「オン (On)」**を選択します。
* リストから**「読み取り」**を選択して、ユーザーにその許可について `view` (読み取り専用) アクセス権限を持たせるか、**「書き込み」**を選択して、その許可について `write` (編集、追加、削除) アクセス権限を持たせます。
* 許可を無効にするには、**「オフ (Off)」**を選択します。

組織のユーザーを追加または削除するには、以下のオプションから選択します。

* ユーザーを組織に追加するには、表からユーザー名を選択し、**「ユーザーの編集」**画面にアクセスします。次に、検索フィールドを使用して組織を見つけ、リストから組織を選択し、**「保存」**をクリックします。
* ユーザーを組織から削除するには、表からユーザー名を選択し、**「ユーザーの編集」**画面にアクセスします。次に、ユーザーを削除する組織について ![「削除」](images/icon_remove.svg) をクリックし、 **「保存」**をクリックします。


## Admin REST API を使用したユーザーの管理
{: #usingadminapi}

`Admin` REST API を使用して、{{site.data.keyword.Bluemix_notm}} インスタンスのユーザーの追加と削除を行うことができます。`Admin` REST API のエンドポイントおよび JSON のリソースは、コマンド・ラインからの基本操作を可能にするために実験に基づいて提供されています。この情報の例に含まれているエンドポイントと URL は、急な通知で変更または廃止される可能性があります。

以下のツールは、この後の例を使用するための前提条件です。他のツールを使用するという選択肢もあります。

* cURL。REST API 要求をコマンドとして入力するために必要です。cURL は、HTTP 要求をサーバーに送信し、コマンド・ライン・インターフェースを介してサーバー応答を受信するための、無料ユーティリティーです。cURL は、[cURL Download サイト](http://curl.haxx.se/download.html){: new_window}からダウンロードできます。
* Python。Python の pretty-print JSON ツールを使用するために必要です。このオプション・ツールは、JSON テキストを入力として取り、読みやすい出力を提供します。Python は、[Python Downloads サイト](https://www.python.org/downloads){: new_window}からダウンロードできます。

### 管理コンソールへのログイン

`Admin` API 要求を実行する前に、管理コンソールにログインする必要があります。`admin` 許可、または `write` アクセス権限のある `users` 許可を持っている場合、ユーザーを追加または削除することができます。他のユーザーの許可を編集するには、`admin` 許可を持っている必要があります。

管理コンソールにログインするには、`https://<your_host>.ibm.com/login` エンドポイントで基本アクセス認証を使用できます。サーバーは、セッションで Cookie を返します。その Cookie を、管理コンソールのすべての操作に使用します。

**注:** 数時間使用されない場合、そのセッションは無効になります。

管理コンソールにログインするには、次のコマンドを実行します。

`curl --user <user_id>:<password> -c ./cookies.txt --header "Accept: application/json" https://<your_host>.ibm.com/login | python -m json.tool`
{: codeblock}

<dl class="parml">

<dt class="pt dlterm">--user <em>user_id</em>:<em>password</em></dt>
<dd class="pd">ユーザー ID とパスワードを受け入れ、Basic 許可ヘッダーを送信します。</dd>


<dt class="pt dlterm">-c <em>filename</em></dt>
<dd class="pd">指定されたユーザー ID とパスワードを、指定されたファイルに Cookie として保管します。</dd>


<dt class="pt dlterm">--header</dt>
<dd class="pd">Accept ヘッダーを送信します。</dd>

</dl>

このコマンドの出力例を以下に示します。

```
{
    "message": "Logged in",
    "name": {
        "familyName": "*last_name*",
        "givenName": "*first_name*"
    }
}
```
{: screen}

### 組織のリスト表示
{: #listingorg}

ユーザーを追加する場合は、組織を指定する必要があります。`Admin` REST API を使用して、すべての組織をリストすることができます。組織をリストするには、`read` アクセス権限のある `users` 許可を持っている必要があります。組織をすべてリストするには、以下のコマンドを実行します。

`curl -b ./cookies.txt https://<your_host>.ibm.com/codi/v1/organizations | python -m json.tool`
{: codeblock}

<dl class="parml">

<dt class="pt dlterm">-b <em>filename</em></dt>
<dd class="pd"><samp class="ph codeph">-c</samp> オプションを使用してあらかじめファイルに保管されていたユーザー ID とパスワードを、Cookie として HTTP サーバーに渡します。</dd>

</dl>

各組織について、結果には次の情報が含まれます。
* `"guid"`、組織の GUID
* `"name"`、組織の名前

このコマンドの出力例を以下に示します。

```
{
     "resources": [
         {
             "guid": "05af098d-d476-4fb0-8b87-a84350e72af3",
             "name": "org-1"
         },
         {
             "guid": "5129a5a8-37c2-4ee4-a9b2-bebae3531db5",
             "name": "org-2"
         },

		 		 ....

		 ],
		 "total_results": 284
}
```
{: screen}

### ユーザーのリスト表示
{: #listingusr}

`Admin` REST API を使用して、登録済みのユーザーをリストすることで、目的のユーザーが既に {{site.data.keyword.Bluemix_notm}} 環境に追加されているかどうかを確認できます。
登録済みのユーザーをリストするには、`read` アクセス権限のある `users` 許可を持っている必要があります。ユーザーを全員リストするには、以下のコマンドを実行します。

`curl -b ./cookies.txt https://<your_host>.ibm.com/codi/v1/users | python -m json.tool`
{: codeblock}

<dl class="parml">
<dt class="pt dlterm">-b <em>filename</em></dt>
<dd class="pd"><samp class="ph codeph">-c</samp> オプションを使用してあらかじめファイルに保管されていたユーザー ID とパスワードを、Cookie として HTTP サーバーに渡します。</dd>
</dl>

登録されている各ユーザーについて、結果には次の情報が含まれます。
* `"first_name"` (名) と `"last_name"` (姓)
* `"user_id"`、ユーザー ID と E メール・アドレス
* `"guid"`、組織の GUID。
* `"permissions"`、管理コンソールのユーザーに割り当てられる。

このコマンドの出力例を以下に示します。


```
{
    "next_url": "/codi/v1/users?results_per_page=100&amp;page=2",
    "prev_url": "",
    "resources": [
        {
            "active": true,
            "created_at": "2015-04-08T17:38:51.788Z",
            "created_by": "",
            "first_name": "some first name",
            "guid": "5d5268cf-39c0-48d3-96ae-7afe928e5dd7",
            "last_name": "some last name",
            "permissions": [
                {
                    "display": "ops.admin"
},
                {
                    "display": "ops.catalog.write"
},
                {
                    "display": "ops.reports.write"
},
                {
                    "display": "ops.catalog.read"
},
                {
                    "display": "ops.users.write"
},
                {
                    "display": "ops.reports.read"
},
                {
                    "display": "ops.login"
},
                {
                    "display": "ops.users.read"
                }
            ],
            "user_id": "someid@us.ibm.com"
        },
		 		 ...


     }
    ],
    "total_pages": 395,
    "total_results": 39421
}

```
{: screen}

### ユーザーの追加

`Admin` REST API を使用して、{{site.data.keyword.Bluemix_notm}} インスタンスにユーザーを追加できます。ユーザーを追加するには、`write` アクセス権限のある `users` 許可を持っている必要があります。

追加するユーザーは 1 人だけでもかまわないし、ユーザーのリストを追加することもできます。ユーザーを 1 つの組織に追加することも、複数の組織に追加することもできます。ユーザーを追加するには、以下の情報を指定する必要があります。

* ユーザーのファーストネーム (名) とラストネーム (姓)。「[ユーザーのリスト表示](index.html#listingusr)」にある、`"first_name"` と `"last_name"` を指定します。
* E メール・アドレスとユーザー ID。E メール・アドレスとユーザー ID についてはどちらも、「[ユーザーのリスト表示](index.html#listingusr)」にある `"user_id"` を指定します。
* `"guid"`。「[組織のリスト表示](index.html#listingorg)」にある組織の GUID を指定します。

情報は、JSON ファイルで提供します。

`curl -b ./cookies.txt https://<your_host>.ibm.com/codi/v1/users | python -m json.tool`
{: codeblock}

<dl class="parml">
<dt class="pt dlterm">-b <em>filename</em></dt>
<dd class="pd"><samp class="ph codeph">-c</samp> オプションを使用してあらかじめファイルに保管されていたユーザー ID とパスワードを、Cookie として HTTP サーバーに渡します。</dd>
</dl>

<ol>
<li>適切な JSON 形式で情報を含む JSON ファイルを作成します。<p>例えば、以下の内容を含む、`user.json` という名前のファイルを作成します。
</p>
<pre>
{
"members": [
        {
"emails": [
"some_user_id@domain.com"
            ],
"first_name": "Some_first_name",
"last_name": "Some_last_name",
"user_id": "some_user_id@domain.com"
        }
    ],
"organization_roles": [
        {
"id": "7a891f9c-e4e7-46c7-8b4e-dffaa7eb3bcd"
        }
    ]
}
</pre>
</li>
<li>以下のコマンドを実行して、JSON ファイルのコンテンツをユーザーのエンドポイントに投稿します:<br/><br/>
<code>
curl -v -b ./cookies.txt -X POST -H "Content-Type: application/json" -d @./user.json https://<your_host>.ibm.com/codi/v1/users
</code>
</li>
</ol>

<dl class="parml">

<dt class="pt dlterm">-v </dt>
<dd class="pd">詳細出力を指定します。</dd>


<dt class="pt dlterm">-X POST</dt>
<dd class="pd">デフォルトの GET 要求をオーバーライドして、POST 要求を指定します。</dd>


<dt class="pt dlterm">-H "Content-Type: application/json"</dt>
<dd class="pd">content-type ヘッダーを指定します。この場合、JSON です。</dd>


<dt class="pt dlterm">-d *data*</dt>
<dd class="pd">POST 要求で HTTP サーバーに送信するデータ (この場合、ファイル `user.json`) を指定します。</dd>

</dl>



このコマンドの出力例を以下に示します。


```
* Connected to localhost (127.0.0.1) port 3000 (#0)
 > POST /codi/v1/users HTTP/1.1
 > User-Agent: curl/7.37.1
 > Host: localhost:3000
 > Accept: */*
 > Cookie: opsConsole.sid=s%3AHLcwKGumyEb3IxREmikDOG3ATKD5xYMe.jfjWAa1tJC0rGghpeV8RPHqE2JaFVL4ZFIJbQpSC%2FAI
 > Content-Type: application/json
 > Content-Length: 333
 >
 * upload completely sent off: 333 out of 333 bytes
 < HTTP/1.1 201 Created
 < x-powered-by: Express
 < vary: X-HTTP-Method-Override
 < content-type: application/json
 < date: Wed, 22 Apr 2015 19:32:54 GMT
 < connection: close
 < transfer-encoding: chunked
 < X-Time_Check: Proxy Time: 5612 msec
 ```
{: screen}

### ユーザーの削除

`Admin` REST API を使用して、{{site.data.keyword.Bluemix_notm}} インスタンスからユーザーを削除できます。ユーザーを削除するには、`write` アクセス権限のある `users` 許可を持っている必要があります。ユーザーを削除するには、そのユーザーのユーザー ID を指定する必要があります。次のコマンドを実行します。`curl -v -b ./cookies.txt -X DELETE https://<your_host>.ibm.com/codi/v1/users?user_id=<some_user_id@domain.com>`
{: codeblock}

<dl class="parml">
<dt class="pt dlterm">-X DELETE</dt>
<dd class="pd">DELETE 要求を指定します。</dd>
</dl>

このコマンドの出力例を以下に示します。
```
 * connect to ::1 port 3000 failed: Connection refused
 *   Trying 127.0.0.1...
 * Connected to localhost (127.0.0.1) port 3000 (#0)
 
 > DELETE /codi/v1/users?user_id=exampleuser@domain.com HTTP/1.1
 > User-Agent: curl/7.37.1
 > Host: localhost:3000
 > Accept: */*
 > Cookie: opsConsole.sid=s%3AHLcwKGumyEb3IxREmikDOG3ATKD5xYMe.jfjWAa1tJC0rGghpeV8RPHqE2JaFVL4ZFIJbQpSC%2FAI
 >
 < HTTP/1.1 201 Created
 < x-powered-by: Express
 < content-type: application/json
 < date: Wed, 22 Apr 2015 21:01:09 GMT
 < connection: close
 < transfer-encoding: chunked
 < X-Time_Check: Proxy Time: 1922 msec
 <
 ```
{: screen}


## カスタム・サービス API
{: #servicebrokerapi}

新規サービスの登録または作成、サービスの更新、およびサービスの削除に使用できる 3 つの API があります。

すべての API は、<code>https://console.&lt;subdomain&gt;.bluemix.net/</code> に対して相対的になります。

<dl>
<dt><strong>&lt;subdomain&gt;</strong></dt>
<dd>この値は、ローカル・インスタンスまたは専用インスタンスの名前です。{{site.data.keyword.Bluemix}} インスタンスのサブドメイン名はオンボード時に割り当てられています。</dd>
</dl>

## 新規サービスの登録

新規サービスを登録するには、以下の API とコード・サンプルを使用してください。

### 経路
{: #registerroute}

```
POST /codi/v1/serviceBrokers
```
{: screen}

### 要求
{: #registerrequest}

*表 8. フィールド*

| **名前** | **説明** |
|-----------------|-------------------|
| name | サービス・ブローカーの名前。  |
| auth_username | サービス・ブローカーとの接続に使用されるユーザー名。 |
| auth_password | サービス・ブローカーとの接続に使用されるパスワード。 |
| broker_url | サービス・ブローカーとの接続に使用される URL。 |
| owningOrganization | サービスをホワイトリスト登録する初期組織。 |


#### 本文
{: #registerbody}

```
{
  "name" : "Service broker's name",
  "auth_username" : "username",
  "auth_password" : "password",
  "broker_url" : "https://broker.comp.com",
  "owningOrganization" : "ORG"
}
```
{: screen}

#### ヘッダー
{: #registerheaders}

```
Authorization: bearer eyJ0eXAiOiJKV1QiLCJhbG ... ciOiJIUzI1
Host: console.comp.bluemix.net
Content-Type: application/json
```
{: screen}

### 応答
{: #registerresponse}

#### 状況
{: #registerstatus}

```
201 Created
```
{: screen}

#### 本文
{: #registerbody2}

```
{
  "entity": {"name": "Service broker's name",
    "broker_url": "https://provision-broker.comp.bluemix.net/bmx/provisioning/brokers/2063580064-8f23230c-7f36-4ce5-a298-2ab4108f1120",
    "auth_username": "username",
    "space_guid": null
  },
  "warnings": [],
  "metadata": {
    "guid": "49f3adcc-ecc2-46fa-83c1-03322f04b3b1",
    "created_at": "2015-12-07T19:51:50Z",
    "updated_at": null,
    "url": "/v2/service_brokers/49f3adcc-ecc2-46fa-83c1-03322f04b3b1"
  }
}
```
{: screen}

## サービスの更新

サービスを更新するには、以下の API とコード・サンプルを使用してください。

### 経路
{: #updateroute}

`PUT /codi/v1/serviceBrokers`
{: screen}

### 要求
{: #updaterequest}

*表 9. フィールド*

| **名前** | **説明** |
|-----------------|-------------------|
| name | サービス・ブローカーの名前。 この名前は、サービスを作成するために使用した名前から変更できません。 |
| auth_username | サービス・ブローカーとの接続に使用されるユーザー名。 |
| auth_password | サービス・ブローカーとの接続に使用されるパスワード。 |
| broker_url | サービス・ブローカーとの接続に使用される URL。 |
| owningOrganization | サービスをホワイトリスト登録する初期組織。 |


#### 本文
{: #updatebody}

```
{
  "name" : "Service Broker's name",
  "auth_username" : "username",
  "auth_password" : "newPassword",
  "broker_url" : "https://broker.comp.com",
  "owningOrganization" : "ORG"
}
```
{: screen}

#### ヘッダー
{: #updateheaders}

```
Authorization: bearer eyJ0eXAiOiJKV1QiLCJhbG ... ciOiJIUzI1
Host: console.comp.bluemix.net
Content-Type: application/json
```
{: screen}

### 応答
{: #updateresponse}

#### 状況
{: #updatestatus}

```
201 Created
```
{: screen}

#### 本文
{: #updatebody2}

```
{
  "entity": {"name": "Service Broker's name",
    "broker_url": "https://provision-broker.dys0.bluemix.net/bmx/provisioning/brokers/2063580064-d11bdd84-7556-469f-858d-2098b531f7f2",
    "auth_username": "username",
    "space_guid": null
  },
  "warnings": [],
  "metadata": {
    "guid": "2cbdb812-d37f-443b-894a-a96de31e5c38",
    "created_at": "2015-12-07T20:11:08Z",
    "updated_at": "2015-12-07T20:11:19Z",
    "url": "/v2/service_brokers/2cbdb812-d37f-443b-894a-a96de31e5c38"
  }
}
```
{: screen}

## サービスの削除

サービスを削除するには、以下の API とコード・サンプルを使用してください。

*表 10. パラメーター*

| **名前** | **説明** |
|-----------------|-------------------|
| name | サービス・ブローカーの名前。 この名前は、サービスを作成するために使用した名前から変更できません。 |


### 経路

```
DELETE /codi/v1/serviceBrokers?name=name of service broker
```
{: screen}

### 要求
{: #deleterequest}

#### ヘッダー
{: #deleteheaders}

```
Authorization: bearer eyJ0eXAiOiJKV1QiLCJhbG ... ciOiJIUzI1
Host: console.comp.bluemix.net
Content-Type: application/json
```
{: screen}

### 応答
{: #deleteresponse}

#### 状況
{: #deletestatus}

```
204 No Content
```
{: screen}

## CF CLI を使用したユーザーの管理
{: #usingadmincli}

Cloud Foundry コマンド・ライン・インターフェースと {{site.data.keyword.Bluemix_notm}} 管理 CLI プラグインを使用することで、{{site.data.keyword.Bluemix_notm}} 環境のユーザーを管理できます。例えば、LDAP レジストリーからユーザーを追加できます。

最初に、CF コマンド・ライン・インターフェースをインストールします。{{site.data.keyword.Bluemix_notm}} 管理 CLI プラグインを使用する場合、CF バージョン 6.11.2 以降が必要です。[Cloud Foundry コマンド・ライン・インターフェースのダウンロード](https://github.com/cloudfoundry/cli/releases){: new_window}

**制限:** Cloud Foundry コマンド・ライン・インターフェースは、Cygwin ではサポートされていません。Cloud Foundry コマンド・ライン・インターフェースは Cygwin コマンド・ライン・ウィンドウ以外のコマンド・ライン・ウィンドウで使用してください。

### {{site.data.keyword.Bluemix_notm}} 管理 CLI プラグインの追加

CF コマンド・ライン・インターフェースをインストール後、{{site.data.keyword.Bluemix_notm}} 管理 CLI プラグインを追加できます。

**注**: 既に {{site.data.keyword.Bluemix_notm}} 管理プラグインをインストール済みの場合、プラグインをアンインストールし、リポジトリーを削除してから、再インストールして最新の更新を取得することが必要になる場合があります。

以下のステップを実行して、リポジトリーを追加し、プラグインをインストールします。


<ol>
<li>{{site.data.keyword.Bluemix_notm}} 管理プラグイン・リポジトリーを追加するには、以下のコマンドを実行します:<br/><br/> <code>
cf add-plugin-repo BluemixAdmin https://console.&lt;subdomain&gt;.bluemix.net/cli
</code><br/><br/>
<dl class="parml">
<dt class="pt dlterm">&lt;subdomain&gt;</dt>
<dd class="pd">ご使用の {{site.data.keyword.Bluemix_notm}} インスタンス用 URL のサブドメインです。</dd>
</dl>
</li>
<li>{{site.data.keyword.Bluemix_notm}} 管理 CLI プラグインをインストールするには、以下のコマンドを実行します:<br/><br/> <code>
cf install-plugin bluemix-admin-cli -r BluemixAdmin
</code>
</li>
</ol>

コマンドのリストを表示するには、次のコマンドを実行します。


`cf plugins`
{: codeblock}

追加でコマンドのヘルプを表示するには、`-help` オプションを使用します。

{{site.data.keyword.Bluemix_notm}} 管理 CLI プラグインを使用した作業方法について詳しくは、『[{{site.data.keyword.Bluemix_notm}} 管理](../cli/plugins/bluemix_admin/index.html)』を参照してください。
